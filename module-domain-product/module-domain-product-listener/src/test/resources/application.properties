spring.application.name=module-domain-product-app

#Bean
spring.main.allow-bean-definition-overriding=true

#Server
server.port=8080
server.tomcat.basedir=tomcat
server.tomcat.accesslog.enabled=true
server.tomcat.accesslog.prefix=access_log
server.tomcat.accesslog.rename-on-rotate=true
server.tomcat.accesslog.pattern=%h %l %u %t "%r" %s %b %T
server.shutdown=GRACEFUL

# Management Configuration
management.endpoint.metrics.enabled=true
management.endpoint.shutdown.enabled=true
management.endpoints.web.exposure.include=*
management.endpoint.prometheus.enabled=true
management.metrics.export.prometheus.enabled=true
management.endpoint.health.show-details=always
management.endpoint.beans.enabled=true

#Mongo
spring.data.mongodb.uri=mongodb://mongo:mongo@localhost:27017/main?authSource=admin
spring.data.mongodb.sub.uri=mongodb://mongo:mongo@localhost:27017/sub?authSource=admin

#Elasticsearch
elasticsearch.hosts[0].host=localhost
elasticsearch.hosts[0].port=9200
elasticsearch.max-batch-size=20
elasticsearch.max-connection=100
elasticsearch.scroll-timeout=60
elasticsearch.timeout=5000

#Kafka
spring.kafka.bootstrap-servers=localhost:9092
spring.kafka.consumer.group-id=aggregate-platform-module-product-local
spring.kafka.consumer.auto-offset-reset=latest
spring.kafka.consumer.enable-auto-commit=false
spring.kafka.listener.ack-mode=record
spring.kafka.listener.concurrency=1
kafka.listener.auto-startup=true

#Client
feign.okhttp.enabled=true
feign.httpclient.connection-timeout=2000
feign.httpclient.max-connections=200
feign.httpclient.follow-redirects=true
feign.httpclient.disable-ssl-validation=true

#Scheduler
blibli.backend.reactor.scheduler.configs.QueueEvent.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.AdjustmentProduct.type=IMMEDIATE
blibli.backend.reactor.scheduler.configs.AdjustmentProductQuota.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.AdjustmentProductSaved.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.MerchantDiscountPrice.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.ProductReview.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.StoreClosingMerchantChange.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.MasterData.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.Product.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.Item.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.PickupPoint.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.FlashSaleProduct.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.BusinessPartnerProfileChange.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.FbbChange.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.TradeInChange.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.DenpasarShippingLogisticOptionChange.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.ModuleProduct.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.FbbItem.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.DigitalFlashSale.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.CampaignProduct.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.CampaignProductTagLabelChange.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.CampaignProductEnded.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.CampaignProductRemoved.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.CheapestPrice.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.CampaignProductLive.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.CampaignTeaserLive.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.DeleteExpired.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.FlashSaleSchedule.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.ClearSivaFlashSaleSchedule.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.DeactivateSivaFlashSaleSchedule.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.DeleteSivaFlashSaleSchedule.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.GroupSivaFlashSale.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.CleanGroupSivaFlashSale.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.DeactivateGroupSivaFlashSale.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.DeleteGroupSivaFlashSale.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.SivaItemSave.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.SivaProductDelete.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.SivaCampaignProductSave.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.SivaFlashsaleGroupSave.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.SivaFlashsaleScheduleSave.type=VIRTUAL_THREAD
blibli.backend.reactor.scheduler.configs.sivaProductCombinedUpsert.type=IMMEDIATE
blibli.backend.reactor.scheduler.configs.pickupPointCombinedUpsert.type=IMMEDIATE
blibli.backend.reactor.scheduler.configs.rawProductCombinedUpsert.type=IMMEDIATE

# THREAD Configuration
spring.threads.virtual.enabled=true

#Reindex
aggregate.platform.reindex.mongo.es.api.enabled=true

#Logging
logging.level.root=INFO
logging.level.com.blibli.oss.command=WARN
logging.level.com.gdn.aggregate.platform.client=FATAL
logging.level.com.gdn.aggregate.platform.command.impl.ReindexDomainCommandImpl=INFO
logging.level.com.gdn.aggregate.platform.command.impl.SaveBatchDomainCommandImpl=WARN
logging.level.com.gdn.aggregate.platform.module.product.listener=INFO
blibli.backend.kafka.logging.before-send=true
blibli.backend.kafka.logging.before-consume=true
blibli.backend.kafka.logging.after-success-consume=true
blibli.backend.kafka.logging.after-failed-consume=true

#Jackson
module.domain.product.jackson.enabled=false

#Common Util
agp.engagement.common.util.batch.save.enable=false
agp.engagement.common.util.batch.save.size=2
agp.engagement.common.util.retry.save.enable=false
agp.engagement.common.util.retry.save.limit=0

#Enabler
module.domain.product.siva.both.by.update.queue=true
module.domain.product.siva.both.by.logistic.option.change=true
module.domain.product.siva.both.by.fbb.tag=true
module.domain.product.siva.both.by.trade.in.tag=true
module.domain.product.siva.both.by.adjustment.product=true
module.domain.product.siva.both.by.adjustment.product.flashsale=true
module.domain.product.siva.both.by.adjustment.product.quota=true
module.domain.product.siva.both.by.adjustment.product.quota.flashsale=true
module.domain.product.siva.both.by.adjustment.product.saved=true
module.domain.product.siva.both.by.adjustment.product.saved.flashsale=true
module.domain.product.siva.both.by.inventory.info.change=false
module.domain.product.siva.both.by.inventory.status.change=true
module.domain.product.siva.both.by.merchant.discount.price.change=true
module.domain.product.siva.both.by.pickup.point=false
module.domain.product.siva.both.by.store.closing.merchant.change=true
module.domain.product.siva.both.by.product.review=true
module.domain.product.siva.both.by.product=true
module.domain.product.siva.both.by.flashsale.product=true
module.domain.product.siva.both.by.cheapest.price=true
module.domain.product.siva.both.by.campaign.product.published=true
module.domain.product.siva.both.by.campaign.product.ended=true
module.domain.product.siva.both.by.campaign.product.removed=true
module.domain.product.siva.both.by.master.data=true
module.domain.product.siva.both.by.item=true
module.domain.product.siva.both.by.fbb.item=true

module.domain.product.siva.product.by.digital.flashsale=true

module.domain.product.siva.flashsale.schedule=true

module.domain.product.siva.flashsale.group=true

module.domain.product.siva.campaign.product=true

module.domain.product.full.reconstruct=true
module.domain.product.siva.product.combined.upsert=true
pickup.point.change.queue.enabled=true
new.inventory.info.change.queue.enabled=true
module.domain.product.permanent.delete.data=true
module.domain.product.siva.product.combined.upsert.high.volume=true
module.domain.product.pickup.point.change.queue.enabled.high.volume=true
module.domain.product.siva.item.combined.upsert.high.volume=true
module.domain.product.raw.item.combined.upsert.high.volume=true
module.domain.product.raw.product.combined.upsert.high.volume=true

#Properties
encryption.password=Discrepancy!Discovery
encryption.salt=pdp-plp-discrepancy

#Item Properties
module.domain.product.max-item-size=20

#Pickup Point Properties in module-product
pickup.point.available-campaign-types=FLASH_SALE,\
  SPECIAL,\
  REGULAR,\
  NON_CAMPAIGN
pickup.point.restricted-merchant-codes=ALFA-MART,\
  INDO-MART
pickup.point.nearest-size=2
pickup.point.one-party-activated=false
pickup.point.sort-by-in-stock=true
pickup.point.update-stock-from-inventory-event=true
pickup.point.new-pickup-point-sorting-enabled=true
pickup.point.always-update-merchant-discount=true
pickup.point.prioritize-lowest-price-enabled=true
dedicated.processing.queue.merchant-codes=HUA-60027,ALS-60070
dedicated.processing.queue.partition-key=PICKUP_POINT_ID
dedicated.processing.queue.l3-processing-enabled=true
dedicated.processing.queue.l4-processing-enabled=true
dedicated.processing.queue.l5-processing-enabled=true

#Update Queue Properties in module-product
update.queue.enable=false
update.queue.size=2

#Campaign Properties
campaign.batch-size=1

#Price Properties
price.fbb-priority=HIGHEST
price.non-fbb-priority=LOWEST

#Republish Properties
module.domain.product.republish.lkpp-topics=com.gdn.x.product.product.change,\
  com.gdn.x.product.item.change,\
  com.gdn.x.product.item.data.change,\
  com.gdn.x.product.product.all,\
  com.gdn.x.product.item.all,\
  com.gdn.aggregate.modules.inventory.inventory.info.change,\
  com.gdn.aggregate.modules.siva.product.combined.upsert,\
  com.gdn.aggregate.modules.raw.product.combined.upsert,\
  com.gdn.agp.new.item.pickup.point.data.update.queue
module.domain.product.republish.product-item-topics=com.gdn.x.product.product.change,\
  com.gdn.x.product.item.data.change,\
  com.gdn.x.product.item.pickup.point.data.change,\
  com.gdn.denpasar.adjustment.product.change,\
  com.gdn.x.promotion.adjustment.product.change.v2,\
  com.gdn.x.promotion.adjustment.product.quota.updated,\
  com.gdn.x.promotion.adjustment.product.saved,\
  com.gdn.x.productcategorybase.product.publish,\
  com.gdn.x.product.merchant.promo.discount.price.change,\
  com.gdn.aggregate.modules.inventory.inventory.info.change,\
  com.gdn.aggregate.modules.product.item.product.review.change,\
  com.gdn.aggregate.modules.pdp.store.closing.merchant.change,\
  com.gdn.aggregate.modules.pdp.business.partner.profile.change,\
  com.gdn.aggregate.modules.product.fbb.change,\
  com.gdn.denpasar.shipping.logistic.option.change.event,\
  com.gdn.denpasar.search.logistic.option.change.event,\
  com.gdn.x.campaign.published,\
  com.partners.promo.analytics.campaign.cheapest.price.days,\
  fbb.core.product.item.save,\
  com.gdn.x.product.product.all,\
  com.gdn.x.product.item.all,\
  com.gdn.x.product.item.data.change,\
  com.gdn.x.product.item.pickup.point.data.change.agp,\
  com.gdn.x.promotion.adjustment.product.all.activated,\
  com.gdn.x.productcategorybase.product.publish.all,\
  com.gdn.x.product.offlineitem.all,\
  com.gdn.pancen.flashsale.product.change,\
  com.gdn.pancen.flashsale.group.change,\
  com.gdn.pancen.flashsale.schedule.change",\
  com.gdn.pancen.flashsale.schedule.clean,\
  com.gdn.pancen.flashsale.group.clean,\
  com.gdn.aggregate.modules.product.deactivate.flashsale.schedule,\
  com.gdn.aggregate.modules.product.deactivate.flashsale.group,\
  com.gdn.x.campaign.live,\
  com.gdn.x.campaign.ended,\
  com.gdn.denpasar.product.construct,\
  com.gdn.denpasar.item.construct,\
  com.gdn.aggregate.modules.product.retry.siva.product,\
  com.gdn.aggregate.modules.product.retry.siva.item,\
  com.gdn.aggregate.modules.product.retry.siva.campaign.product,\
  com.gdn.aggregate.modules.product.retry.siva.flashsale.schedule,\
  com.gdn.aggregate.modules.product.retry.siva.flashsale.group,\
  com.gdn.aggregate.modules.siva.product.combined.upsert,\
  com.gdn.aggregate.modules.raw.product.combined.upsert,\
  com.gdn.agp.new.item.pickup.point.data.update.queue
module.domain.product.republish.product-item-migration-topics=com.gdn.x.product.product.all,\
  com.gdn.x.product.item.data.change,\
  com.gdn.x.product.item.data.change.agp,\
  com.gdn.x.product.item.pickup.point.data.change.agp,\
  com.gdn.x.promotion.adjustment.product.all.activated,\
  com.gdn.x.productcategorybase.product.publish.all,\
  com.gdn.aggregate.modules.siva.product.combined.upsert,\
  com.gdn.aggregate.modules.raw.product.combined.upsert,\
  com.gdn.agp.new.item.pickup.point.data.update.queue
module.domain.product.republish.max-attempt=5

#Offset Properties
agp.engagement.common.util.time.delay.AdjustmentProductQuota.enable=true
agp.engagement.common.util.time.delay.AdjustmentProductQuota.unit=MILLISECONDS
agp.engagement.common.util.time.delay.AdjustmentProductQuota.time=200
agp.engagement.common.util.time.delay.PickupPoint.enable=true
agp.engagement.common.util.time.delay.PickupPoint.unit=MILLISECONDS
agp.engagement.common.util.time.delay.PickupPoint.time=200
agp.engagement.common.util.time.delay.Item.enable=true
agp.engagement.common.util.time.delay.Item.unit=MILLISECONDS
agp.engagement.common.util.time.delay.Item.time=200

agp.engagement.common.util.time.expiry.UpdateQueue.enable=true
agp.engagement.common.util.time.expiry.UpdateQueue.unit=DAYS
agp.engagement.common.util.time.expiry.UpdateQueue.time=7
agp.engagement.common.util.time.expiry.AdjustmentProduct.enable=true
agp.engagement.common.util.time.expiry.AdjustmentProduct.unit=MINUTES
agp.engagement.common.util.time.expiry.AdjustmentProduct.time=5
agp.engagement.common.util.time.expiry.CampaignProduct.enable=true
agp.engagement.common.util.time.expiry.CampaignProduct.unit=MINUTES
agp.engagement.common.util.time.expiry.CampaignProduct.time=5
agp.engagement.common.util.time.expiry.FlashsaleProduct.enable=true
agp.engagement.common.util.time.expiry.FlashsaleProduct.unit=MINUTES
agp.engagement.common.util.time.expiry.FlashsaleProduct.time=5
agp.engagement.common.util.time.expiry.MerchantDiscountPrice.enable=true
agp.engagement.common.util.time.expiry.MerchantDiscountPrice.unit=MINUTES
agp.engagement.common.util.time.expiry.MerchantDiscountPrice.time=5
agp.engagement.common.util.time.expiry.SivaFlashsaleSchedule.enable=true
agp.engagement.common.util.time.expiry.SivaFlashsaleSchedule.unit=MINUTES
agp.engagement.common.util.time.expiry.SivaFlashsaleSchedule.time=5
agp.engagement.common.util.time.expiry.SivaFlashsaleGroup.enable=true
agp.engagement.common.util.time.expiry.SivaFlashsaleGroup.unit=MINUTES
agp.engagement.common.util.time.expiry.SivaFlashsaleGroup.time=5
agp.engagement.common.util.time.expiry.SivaCampaignProduct.enable=true
agp.engagement.common.util.time.expiry.SivaCampaignProduct.unit=MINUTES
agp.engagement.common.util.time.expiry.SivaCampaignProduct.time=5

agp.engagement.common.util.time.schedule.scheduleDeleteSivaFlashsaleSchedule.enable=true
agp.engagement.common.util.time.schedule.scheduleDeleteSivaFlashsaleSchedule.day=MONDAY
agp.engagement.common.util.time.schedule.scheduleDeleteSivaFlashsaleGroup.enable=true
agp.engagement.common.util.time.schedule.scheduleDeleteSivaFlashsaleGroup.day=MONDAY
agp.engagement.common.util.time.schedule.scheduleDeleteSivaCampaignProduct.enable=true
agp.engagement.common.util.time.schedule.scheduleDeleteSivaCampaignProduct.day=MONDAY

skip.product.publish.l4.event=true
fetch.flash.sale.products=true

module.domain.product.item-data-change-v2-event-enabled=true
module.domain.product.item-data-change-v2-event-black-listed-sellers=
module.domain.product.item-data-change-event-black-listed-sellers=

module.domain.product.item-pickup-point-data-change-v2-event-enabled=true
module.domain.product.item-pickup-point-data-change-v2-event-black-listed-sellers=
module.domain.product.item-pickup-point-data-change-black-listed-sellers=

module.domain.product.adjustment-product-v2-event-enabled=true
module.domain.product.adjustment-product-v2-event-black-listed-sellers=
module.domain.product.adjustment-product-event-black-listed-sellers=

enable.time.stamp.time-stamp-config-map.com.gdn.x.product.item.pickup.point.data.change=false
enable.time.stamp.time-stamp-config-map.com.gdn.x.campaign.product.removed=true
enable.time.stamp.time-stamp-config-map.com.gdn.x.product.product.change=false
enable.time.stamp.time-stamp-config-map.fbb.core.product.item.save=true
enable.time.stamp.time-stamp-config-map.com.gdn.x.productcategorybase.product.publish=false
enable.time.stamp.time-stamp-config-map.com.gdn.x.promotion.adjustment.product.change.v2=false
enable.time.stamp.time-stamp-config-map.com.gdn.aggregate.modules.product.fbb.change=true
enable.time.stamp.time-stamp-config-map.com.gdn.x.promotion.adjustment.product.quota.updated=false
enable.time.stamp.time-stamp-config-map.com.gdn.x.promotion.adjustment.product.saved=true
enable.time.stamp.time-stamp-config-map.com.gdn.x.campaign.published=false
enable.time.stamp.time-stamp-config-map.com.gdn.aggregate.modules.product.tag.label.change=false
enable.time.stamp.time-stamp-config-map.com.partners.promo.analytics.campaign.cheapest.price.days=false
enable.time.stamp.time-stamp-config-map.com.gdn.pancen.flashsale.product.change=false
enable.time.stamp.time-stamp-config-map.com.gdn.x.product.item.data.change=false
enable.time.stamp.time-stamp-config-map.com.gdn.denpasar.shipping.logistic.option.change.event=true
enable.time.stamp.time-stamp-config-map.com.gdn.denpasar.search.logistic.option.change.event=true
enable.time.stamp.time-stamp-config-map.com.gdn.x.product.merchant.promo.discount.price.change=false
enable.time.stamp.time-stamp-config-map.com.gdn.aggregate.modules.product.item.product.review.change=true
enable.time.stamp.time-stamp-config-map.com.gdn.aggregate.modules.pdp.store.closing.merchant.change=true
enable.time.stamp.time-stamp-config-map.com.gdn.trade.in.whitelisted.configuration=true
enable.time.stamp.time-stamp -config-map.com.gdn.x.pulsa.digital.flashsale=false
enable.time.stamp.time-stamp-config-map.com.gdn.pancen.flashsale.schedule.change=true
enable.time.stamp.time-stamp-config-map.com.gdn.pancen.flashsale.schedule.clean=true
enable.time.stamp.time-stamp-config-map.com.gdn.aggregate.modules.product.deactivate.flashsale.schedule=true
enable.time.stamp.time-stamp-config-map.com.gdn.pancen.flashsale.group.change=true
enable.time.stamp.time-stamp-config-map.com.gdn.pancen.flashsale.group.clean=true
enable.time.stamp.time-stamp-config-map.com.gdn.aggregate.modules.product.deactivate.flashsale.group=true
enable.time.stamp.time-stamp-config-map.com.gdn.cms.backend.update.queue=false
enable.time.stamp.time-stamp-config-map.com.gdn.x.campaign.live=true
enable.time.stamp.time-stamp-config-map.com.gdn.x.campaign.ended=true
enable.time.stamp.time-stamp-config-map.com.gdn.x.campaign.teaser.live=true
# New update event queue switches
new.raw.item.data.change.queue.enabled=true
module.domain.product.siva.item.combined.upsert=false
module.domain.product.raw.product.combined.upsert=true
new.master.data.flow.enabled=true
back-fill.siva.docs.for.missing-fields=false
module.domain.product.campaign-product-published-event-black-listed-sellers=ALS-60070
module.domain.product.promotion-adjustment-product-save-event-black-listed-sellers=ALS-60070
module.domain.product.flash-sale-adjustment-product-v2-event-black-listed-sellers=ALS-60070
delete.product.data.on.termination=true
module.domain.product.siva.item.batch.deduplication.enabled=true
module.domain.product.batch.kafka.fetchMaxWaitMs=100
module.domain.product.batch.kafka.fetchMinBytes=516
module.domain.product.batch.kafka.maxPollRecords=3
module.domain.product.batch.kafka.debugEnabled=true

# Permanent deletion kafka properties
module.domain.product.batch.kafka.permanentDeleteMaxPollRecords=1000
module.domain.product.batch.kafka.permanentDeleteFetchMaxWaitMs=2000
module.domain.product.batch.kafka.permanentDeleteFetchMinBytes=8192
module.domain.product.batch.kafka.permanentDeleteMaxPollIntervalMs=7200000
module.domain.product.batch.kafka.permanentDeleteFetchMaxBytes=52428800
change.types.to.skip.item.and.pickup.point.event=PRODUCT_REJECTED
module.domain.product.siva.both.by.stock.update=false
skip.stock.fetch.from.inventory.module=false
module.domain.product.siva.both.by.stock.republish=true
permanent-delete.processing.bulk-size=30
module.domain.product.flashsale.promo.types=FLASH_SALE
module.domain.product.adjustment.handles.campaigns=true
process.pickupPoint.inventory=true
permanent-delete.processing.es-deletion-timeout-seconds=60
filter.distribution.pickup.points.enabled=true